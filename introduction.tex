\chapter{Introduction}
\label{cha:intro}
\vspace{0.4 cm} 

In this chapter, a brief introduction of the internship and the project done at U-Hopper\footnote{ website: \url{https://www.u-hopper.com/} } is presented.
I chose to do my internship at U-Hopper, a deep-tech company that develops Big Data Analytics, Business Intelligence and Artificial Intelligence solutions, in the heart of the Dolomites.
U-Hopper operates at the intersection of three technological axes: Internet of Things, big data and Artificial Intelligence, with the aim of providing analytics to companies and enabling personalized services for their users.
U-Hopper brings together research and development skills and proven experience in the design and development of high quality ICT solutions.


\section{Problem statement}
\label{sec:problem}
\vspace{0.2 cm} 

In managing a company that provides services to physical customers, the most important aspect is how to manage the flow of customers to guarantee them optimal service. Overcrowding and long waiting times are serious problems caused by poor demand management. These problems spoil the service experience of the users and especially during this pandemic period due to COVID-19, it is important to avoid generating crowds and queues to avoid new contagions. The repetition of these events leads to the loss of customers and therefore to the loss of revenue for the company. This fact is increasingly relevant in this period of crisis with very low liquidity.

Offering an efficient and fast service is the key to increasing the number of customers in their own business. The solution is not to use all the available resources to try to meet these requirements, as excessive use of these leads to an increase in costs without leading to an increase in revenues.
Of course, in order to calibrate the correct amount of service to offer, it would be necessary to know the demand. In particular it is necessary to know every time how many people require the service. Having this information is not trivial as it is highly variable over time and depends on several factors.

The purpose of this thesis is to create a system capable of providing useful information to a company's organizational departments to manage its resources more effectively and efficiently. In particular, the proposed system will provide estimates of the number of customers in real-time through the use of machine learning techniques.
From this information, it will be possible to understand how the demand is distributed over time and what the peak hours are. This will clarify in which time slots it is necessary to increase the capacity of the service in order to be able to provide it to a greater number of people. In a dual way, this information is also useful for understanding when there is less demand and it is possible to reduce the capacity of the service, with the aim of saving resources.

The idea can also be extended to provide the same crowding data to its customers. With this data, they can plan better when to use the service offered, avoiding being in crowded situations or situations that require long waiting times.


\section{Approach to the problem} 
\label{sec:approach}
\vspace{0.2 cm} 

After analyzing the current state of the art and the different methods used in literature to count/estimate people in different fields of applicability and the different implementations, the approach chosen to solve this problem is to use the Wi-Fi Probe Request Frames.
In the 802.11 standards, there are the management frames to manage the connection between access points and devices. The most important for us is the probe request frame, a particular frame that a device sends to check if there is a known access point in the area that sends a probe response frame to allow the connection.

Why is this important? From this type of frame, it is possible to extract the MAC address of the device (usually randomized if not connected), the RSSI (unstable, but it provides an indication of the distance), the SSID (network for which the device is probing), the sequence counter and the time (when the probe is detected).

The Research Statement is: is it possible to continuously estimate the number of people in a place of interest based on the Wi-Fi probe request frames?

The Thesis Objectives are:
\begin{itemize}
  \item Capture and analysis of Wi-Fi probe request frames.
  \item Data extraction, transmission and storage.
  \item Analysis of Wi-Fi probe request frames patterns.
  \item Provide an estimate of the number of customers.
\end{itemize}

Why Wi-Fi solution?
High diffusion of Wi-Fi devices, high accuracy (using machine learning regression), low-cost implementation (use of a Raspberry Pi for data collection), real-time data transmission (using MQTT protocol), user privacy ensured (anonymization of MAC addresses).

Sniffing the probe request frames using a Raspberry Pi running a Python program that uses the Scapy library. Then, sending batches to a server using MQTT and analyzing the collected data through a regression that has been optimized with Machine learning.


\section{Outline} 
\label{sec:outline}
\vspace{0.2 cm} 

In chapter~\ref{cha:soa} the state of the art is analyzed.
In chapter~\ref{cha:system} the methodology and the choices in the system design are presented.
Chapter~\ref{cha:implementation}  presents how the system is implemented.
In chapter~\ref{cha:evaluation} the proposed system is validated and the results are evaluated.
In the end, chapter~\ref{cha:conclusions} reports the conclusions and suggests some ideas for future work.
